<%!
    /**
     * Wrappers are preinitialized Java objects that provide easy access to 
     * various settings within the bundle.  The CustomerRequest wrapper is
     * provides convenience methods when working with customer request
     * submissions.
     *
     */
    public static class CustomerRequest {

        private com.kd.kineticSurvey.beans.CustomerSurvey customerSurvey;

        public CustomerRequest(com.kd.kineticSurvey.beans.CustomerSurvey customerSurvey) {
            this.customerSurvey = customerSurvey;
        }

        /**
         * Returns the name of the catalog the request form belongs to.
         *
         * @return String the name of the catalog
         */
        public String catalogName() {
            return customerSurvey.getCategory();
        }

        /**
         * Returns the value stored in the "Company Name" field on the base 
         * submission form.  This field is typically mapped from an answer that
         * collects the submitter's company name.
         *
         * @return String the value stored in the "Company Name" field
         */
        public String companyName() {
            return customerSurvey.getCompanyName();
        }

        /**
         * Returns the value stored in the "Company Id" field on the base 
         * submission form.  This field is typically mapped from an answer that
         * collects the submitter's company id.
         *
         * @return String the value stored in the "Company Id" field
         */
        public String companyId() {
            return customerSurvey.getCompanyID();
        }

        public String errorMessage() {
            return customerSurvey.getErrorMessage() + customerSurvey.getCustomerSession().getUserContext().getErrorMessage();
        }

        public String clearErrorMessage() {
            String result = customerSurvey.getErrorMessage() + customerSurvey.getCustomerSession().getUserContext().getErrorMessage();
            customerSurvey.setErrorMessage("");
            customerSurvey.getCustomerSession().getUserContext().setErrorMessage("");
            return result;
        }

        /**
         * Returns the value stored in the "First Name" field on the base 
         * submission form.  This field is typically mapped from an answer that
         * collects the submitter's first name.
         *
         * @return String the value stored in the "First Name" field
         */
        public String firstName() {
            return customerSurvey.getFirstName();
        }

        /**
         * Returns the value stored in the "Last Name" field on the base 
         * submission form.  This field is typically mapped from an answer that
         * collects the submitter's last name.
         *
         * @return String the value stored in the "First Name" field
         */
        public String lastName() {
            return customerSurvey.getLastName();
        }

        public java.util.Locale locale() {
            return customerSurvey.getClientLocale();
        }

        public String pageName() {
            return customerSurvey.getPageName();
        }

        public String pageId() {
            return customerSurvey.getPageInstanceID();
        }

        /**
         * Returns the value that uniquely identifies this submission.  This 
         * value is also referred to as the instance id, the customer survey 
         * base instance id, or the csrv number.  This value is automatically 
         * generated by the server.
         *
         * @return unique identifier for the submission record
         */
        public String submissionId() {
            return customerSurvey.getCustomerSurveyInstanceID();
        }

        public String successMessage() {
            return customerSurvey.getSuccessMessage() + customerSurvey.getCustomerSession().getUserContext().getSuccessMessage();
        }

        public String clearSuccessMessage() {
            String result = customerSurvey.getSuccessMessage() + customerSurvey.getCustomerSession().getUserContext().getSuccessMessage();
            customerSurvey.setSuccessMessage("");
            customerSurvey.getCustomerSession().getUserContext().setSuccessMessage("");
            return result;
        }

        /**
         * Returns the value that uniquely identifies the template, or form this
         * submission is a child of.  This value is automatically set by the 
         * server.
         *
         * @return the id of the template, or form this submission belongs to
         */
        public String templateId() {
            return customerSurvey.getSurveyTemplateInstanceID();
        }

        /**
         * Returns the name of the template, or form this submission is a child 
         * of.  This value is automatically set by the server.
         *
         * @return the name of the template, or form this submission belongs to
         */
        public String templateName() {
            return customerSurvey.getSurveyTemplateName();
        }
    }
%>